(function(){"use strict";var t={4021:function(t,e,i){var a=i(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"tabbar"},[e("router-link",{attrs:{tag:"div",to:"/shelf"}},[e("span",[t._v("书架")])]),e("router-link",{attrs:{tag:"div",to:"/city"}},[e("span",[t._v("书城")])]),e("router-link",{attrs:{tag:"div",to:"/rank"}},[e("span",[t._v("排行")])]),e("router-link",{attrs:{tag:"div",to:"/update"}},[e("span",[t._v("更新")])])],1),e("router-view")],1)},o=[],c=(i(7658),{date(){return{nowactive:"city"}},created(){this.getAllDate(),"/"==window.location.pathname&&(console.log(localStorage.getItem("mineComic")),null==localStorage.getItem("mineComic")?this.$router.push({path:"city"}):this.$router.push({path:"shelf"}))},methods:{getAllDate(){null===localStorage.getItem("allComic")&&this.$axios.get("https://www.kanman.com/api/getComicList").then((({data:t})=>{let e=t.data;localStorage.setItem("allComic",JSON.stringify(e))}))}}}),n=c,r=i(1001),l=(0,r.Z)(n,s,o,!1,null,null,null),h=l.exports,m=i(2631),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shelf"},[e("ComicListComponents",{attrs:{comicListDate:t.mineComic}})],1)},d=[],v=(i(541),function(){var t=this,e=t._self._c;return e("div",{staticClass:"comicListbox"},t._l(t.comicListDate,(function(i){return e("div",{key:i.comic_id,staticClass:"comicDate",on:{click:function(e){return t.turnToComicDetails(i.comic_id,i.comic_name)}}},[e("div",[e("img",{attrs:{src:`https://image.yqmh.com/mh/${i.comic_id}.jpg`,alt:""}})]),e("span",[t._v(t._s(i.comic_name))])])})),0)}),p=[],f={props:{comicListDate:Array},data(){return{}},watch:{comicListDate(){console.log("1")}},methods:{turnToComicDetails(t,e){this.$router.push({path:"comicdetails",query:{id:t,name:e}})},test(t){console.log(t)}}},g=f,_=(0,r.Z)(g,v,p,!1,null,null,null),y=_.exports,w={components:{ComicListComponents:y},data(){return{mineComic:[]}},created(){this.mineComic=JSON.parse(localStorage.getItem("mineComic"))||[],console.log(this.mineComic)},computed:{infoURL(){return`https://www.kanman.com/api/getComicInfoAttribute?comic_id=${this.comicId}`}},watch:{infoURL(){this.$axios.get(this.infoURL).then((({data:t})=>{console.log(t),this.comicInfo=t.data}))}},methods:{back(){this.$router.go(-1)},turnToComic(t){this.$router.push({path:"/comic",query:{comicId:this.comicId,chapterId:t}})},addShelf(){this.mineComic.push({id:this.comicId,name:this.comicName}),localStorage.setItem("mineComic",JSON.stringify(this.mineComic))},turnToComicDetails(t,e){this.mineComic=this.mineComic.filter((e=>e.id!=t)),this.mineComic.unshift({id:t,name:e}),localStorage.setItem("mineComic",JSON.stringify(this.mineComic)),this.$router.push({path:"comicdetails",query:{id:t,name:e}})}}},C=w,k=(0,r.Z)(C,u,d,!1,null,"d7d3a2c6",null),x=k.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"city"},[e("div",{staticClass:"search"},[e("input",{attrs:{type:"text",placeholder:"搜索漫画名or关键字"},on:{click:t.turnToSearch}})]),e("div",{staticClass:"citycontent"},[e("div",{staticClass:"title"},[e("span",[t._v("热门推荐")]),e("span",{staticClass:"fr",on:{click:t.turnToIndexCartoon}},[t._v("全部>>")])]),e("ComicListComponents",{attrs:{comicListDate:t.recommendComic}})],1)])},S=[],I={components:{ComicListComponents:y},data(){return{recommendComic:[{comic_id:"10102",comic_name:"傲世九重天"},{comic_id:"106518",comic_name:"逆天邪神"},{comic_id:"5754",comic_name:"穿越西元3000后"},{comic_id:"27417",comic_name:"妖神记"},{comic_id:"17745",comic_name:"凤逆天下"}]}},computed:{},watch:{},methods:{turnToIndexCartoon(){this.$router.push({path:"/allbooks"})},turnToSearch(){this.$router.push({path:"/search"})}}},$=I,L=(0,r.Z)($,b,S,!1,null,"62270442",null),T=L.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rank"},[e("div",{staticClass:"ranktop"},[e("div",{staticClass:"style"},[e("ul",t._l(t.rankNavStyleList,(function(i){return e("li",{key:i.value,ref:i.value,refInFor:!0,class:{active:"all"==i.value},on:{click:function(e){return t.changeSort(i.value)}}},[t._v(" "+t._s(i.name)+" ")])})),0)]),e("div",{staticClass:"time"},[e("ul",t._l(t.rankNavTimeList,(function(i){return e("li",{key:i.value,ref:i.value,refInFor:!0,class:{active:"day"==i.value},on:{click:function(e){return t.changeTime(i.value)}}},[t._v(" "+t._s(i.name)+" ")])})),0)]),e("div",{staticClass:"comictopbox"},t._l(t.comictopInfo,(function(i){return e("div",{key:i.comic_id,staticClass:"comictop",on:{click:function(e){return t.turnToComicDetails(i.comic_id,i.comic_name)}}},[e("div",[e("img",{attrs:{src:`https://image.yqmh.com/mh/${i.comic_id}.jpg`,alt:""}})]),e("span",[t._v(t._s(i.comic_name))])])})),0),e("div",{staticClass:"comicotherbox"},t._l(t.comicotherInfo,(function(i,a){return e("div",{key:i.comic_id,staticClass:"comicothers",on:{click:function(e){return t.turnToComicDetails(i.comic_id,i.comic_name)}}},[e("div",{staticClass:"ranknum"},[e("span",[t._v(t._s(a+4))])]),e("div",{staticClass:"str"},[e("div",{staticClass:"str1"},[e("div",{staticClass:"title"},[t._v(t._s(i.comic_name))]),e("div",[t._v(t._s(Math.trunc(i.count_num/1e4)+"万"))])]),e("div",{staticClass:"str2"},[e("div",[t._v(t._s(i.author_name))]),e("div",t._l(i.cartoon_type_list,(function(i){return e("div",{key:i.id},[t._v(t._s(i.name))])})),0)])])])})),0)])])},R=[],H={data(){return{timetype:"day",sorttype:"all",prevsort:"all",prevtime:"day",rankNavStyleList:[{name:"综合榜",value:"all"},{name:"自制榜",value:"self"},{name:"少年榜",value:"boy"},{name:"少女榜",value:"girl"},{name:"新作榜",value:"new"},{name:"黑马榜",value:"dark"},{name:"付费榜",value:"charge"},{name:"免费榜",value:"free"},{name:"完结榜",value:"finish"},{name:"连载榜",value:"serialize"}],rankNavTimeList:[{name:"日榜",value:"day"},{name:"周榜",value:"week"},{name:"月榜",value:"month"},{name:"总榜",value:"total"}],comictopInfo:[],comicotherInfo:[],arrnum:[]}},created(){this.getrank()},computed:{rankURL(){return`https://www.kanman.com/api/getRankDataForWeb?isalldata=0&time_type=${this.timetype}&sort_type=${this.sorttype}&rank_type=heat&page=1&pageSize=100`}},watch:{rankURL(){this.getrank()}},methods:{getrank(){this.$axios.get(this.rankURL).then((({data:t})=>{console.log(t),this.comictopInfo=t.data.list.slice(0,3),this.arrnum=this.comictopInfo.splice(1,1),this.comictopInfo.splice(0,0,this.arrnum[0]),console.log(t.data.list),t.data.list.splice(0,3),this.comicotherInfo=t.data.list,console.log(this.comicotherInfo)}))},changeSort(t){this.sorttype=t,this.$refs[this.prevsort][0].className="",this.$refs[t][0].className="active",this.prevsort=t},changeTime(t){this.timetype=t,this.$refs[this.prevtime][0].className="",this.$refs[t][0].className="active",this.prevtime=t},turnToComicDetails(t,e){this.$router.push({path:"comicdetails",query:{id:t,name:e}})}}},D=H,O=(0,r.Z)(D,N,R,!1,null,"8bdf322c",null),U=O.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"update"},[e("div",{staticClass:"time"},[e("ul",t._l(t.updateList,(function(i){return e("li",{key:i.comicUpdateDate_week,ref:i.comicUpdateDate_week,refInFor:!0,class:{active:i.comicUpdateDate_week==t.time},on:{click:function(e){return t.changeTime(i.comicUpdateDate_week)}}},[t._v(" "+t._s(i.comicUpdateDate_new)+" ")])})),0)]),e("div",{staticClass:"fill"}),e("ComicListComponents",{attrs:{comicListDate:t.nowList}})],1)},q=[],P={components:{ComicListComponents:y},data(){return{updateURL:"https://www.kanman.com/api/updatelist?page=1&pageSize=$12",updateList:[],nowList:[],time:(new Date).getDay()}},created(){this.getUpdate(),console.log(this.time)},computed:{nowtime(){return this.time}},watch:{nowtime(){this.changelist()}},methods:{getUpdate(){this.$axios.get(this.updateURL).then((({data:t})=>{console.log(t.data.update),this.updateList=t.data.update,this.changelist()}))},changeTime(t){this.time=t},changelist(){let t=this.updateList.filter((t=>t.comicUpdateDate_week==this.time));this.nowList=t[0].info},turnToComicDetails(t,e){this.$router.push({path:"comicdetails",query:{id:t,name:e}})}}},F=P,J=(0,r.Z)(F,Z,q,!1,null,"d0310fb6",null),j=J.exports,z=function(){var t=this,e=t._self._c;return e("div",{ref:"box",staticClass:"allbooksbox",on:{scroll:t.scrolling}},[e("div",{staticClass:"header"},[e("div",{staticClass:"back",on:{click:t.back}},[t._v("返回")]),t._v(" 漫画索引 ")]),e("div",{staticClass:"allbooks"},t._l(t.classifyTitle,(function(i){return e("div",{key:i.id,staticClass:"typelist"},t._l(i.content,(function(a){return e("div",{key:a.value,class:{active:a.value==t.title||a.value==t.place||a.value==t.isFin||a.value==t.word},on:{click:function(e){return t.changeClassify(i.type,a.value)}}},[t._v(t._s(a.name))])})),0)})),0),e("ComicListComponents",{attrs:{comicListDate:t.selectComic}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isbottoming,expression:"isbottoming"}]},[t._v("已经到底咯")])],1)},E=[],A={components:{ComicListComponents:y},data(){return{classifyTitle:[{name:"题材",type:"title",id:"1",content:[{name:"全部",value:"tall"},{name:"热血",value:"rexue"},{name:"机战",value:"jizhan"},{name:"运动",value:"yundong"},{name:"推理",value:"tuili"},{name:"冒险",value:"maoxian"},{name:"搞笑",value:"gaoxiao"},{name:"战争",value:"zhanzheng"},{name:"神魔",value:"shenmo"},{name:"忍者",value:"renzhe"},{name:"竞争",value:"jingzheng"},{name:"悬疑",value:"xuanyi"},{name:"社会",value:"shehui"},{name:"恋爱",value:"lianai"},{name:"宠物",value:"chongwu"},{name:"吸血",value:"xixue"},{name:"萝莉",value:"luoli"},{name:"御姐",value:"yujie"},{name:"霸总",value:"bazong"},{name:"玄幻",value:"xuanhuan"},{name:"古风",value:"gufeng"},{name:"历史",value:"lishi"},{name:"漫改",value:"mangai"},{name:"游戏",value:"youxi"},{name:"穿越",value:"chuanyue"},{name:"恐怖",value:"kongbu"},{name:"真人",value:"zhenren"},{name:"科幻",value:"kehuan"},{name:"防疫",value:"fangyi"},{name:"都市",value:"dushi"},{name:"武侠",value:"wuxia"},{name:"修真",value:"xiuzhen"},{name:"生活",value:"shenghuo"},{name:"动作",value:"dongzuo"}]},{name:"地区",type:"place",id:"2",content:[{name:"全部",value:"pall"},{name:"大陆",value:"dalu"},{name:"日本",value:"riben"},{name:"港台",value:"gangtai"},{name:"欧美",value:"oumei"},{name:"韩国",value:"hanguo"}]},{name:"进度",type:"isFin",id:"3",content:[{name:"全部",value:"fall"},{name:"连载",value:"1"},{name:"完结",value:"2"}]},{name:"字母",type:"word",id:"4",content:[{name:"全部",value:"wall"},{name:"A",value:"A"},{name:"B",value:"B"},{name:"C",value:"C"},{name:"D",value:"D"},{name:"E",value:"E"},{name:"F",value:"F"},{name:"G",value:"G"},{name:"H",value:"H"},{name:"I",value:"I"},{name:"J",value:"J"},{name:"K",value:"K"},{name:"L",value:"L"},{name:"M",value:"M"},{name:"N",value:"N"},{name:"O",value:"O"},{name:"P",value:"P"},{name:"Q",value:"Q"},{name:"R",value:"R"},{name:"S",value:"S"},{name:"T",value:"T"},{name:"U",value:"U"},{name:"V",value:"V"},{name:"W",value:"W"},{name:"X",value:"X"},{name:"Y",value:"Y"},{name:"Z",value:"Z"}]}],title:"tall",place:"pall",isFin:"fall",word:"wall",excessive:[],excessivelength:0,selectComic:[],isbottoming:!1}},created(){this.allComic=JSON.parse(localStorage.getItem("allComic")),this.excessive=this.allComic,this.selectComic=this.allComic.slice(0,21)},methods:{back(){this.$router.go(-1)},changeClassify(t,e){this.excessivelength=0,this.isbottoming=!1,"title"==t&&(this.title=e),"place"==t&&(this.place=e),"isFin"==t&&(this.isFin=e),"word"==t&&(this.word=e),this.changeClassifyList()},changeClassifyList(){this.excessive=this.allComic,"tall"!==this.title&&(this.excessive=this.excessive.filter((t=>{let e=t.sort_typelist.replace(/[^a-zA-Z|\\|]/g,"").split("|"),i=0;for(let a=0;a<e.length;a++)e[a]==this.title&&(i=1);return i}))),"pall"!==this.place&&(this.excessive=this.excessive.filter((t=>t.cartoon_area_tag.replace(/[^a-zA-Z|\\|]/g,"")==this.place))),"fall"!==this.isFin&&(this.excessive=this.excessive.filter((t=>t.comic_status==this.isFin))),"wall"!==this.word&&(this.excessive=this.excessive.filter((t=>t.comic_newid.slice(0,1).toUpperCase()==this.word))),this.selectComic=this.excessive.slice(0,this.excessivelength+21),console.log(this.excessive),console.log(this.selectComic)},scrolling(){let t=this.$refs.box.scrollTop,e=this.$refs.box.scrollHeight,i=this.$refs.box.clientHeight;t+i>=e-30&&(this.excessivelength+20>=this.selectComic.length?this.isbottoming=!0:(this.excessivelength+=21,this.selectComic=[...this.selectComic,...this.excessive.slice(this.excessivelength,this.excessivelength+21)]))}}},M=A,X=(0,r.Z)(M,z,E,!1,null,null,null),Y=X.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"searchbox"},[e("SearchCommponents"),e("div",{staticClass:"historybox"},[e("div",{staticClass:"head"},[t._v("历史记录")]),t._l(t.comicSearchHistory,(function(i){return e("div",{key:i+i.keyword,staticClass:"history",on:{click:function(e){return t.turnToSearchResult(i.keyword)}}},[e("span",[t._v(t._s(i.keyword))])])}))],2)],1)},B=[],G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search--commponent"},[e("div",{staticClass:"back",on:{click:t.back}},[t._v("返回")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"搜索漫画名or关键字"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),e("span",{on:{click:function(e){return t.turnToSearchResult(t.keyword)}}},[t._v("搜索")])])},K=[],Q={data(){return{keyword:""}},created(){this.comicSearchHistory=JSON.parse(localStorage.getItem("comicSearchHistory"))||[]},computed:{},watch:{},methods:{back(){this.$router.go(-1)},turnToSearchResult(t){this.keyword=t,0!=this.keyword.length&&(this.comicSearchHistory=this.comicSearchHistory.filter((t=>t.keyword!=this.keyword)),this.comicSearchHistory.unshift({keyword:this.keyword}),localStorage.setItem("comicSearchHistory",JSON.stringify(this.comicSearchHistory)),this.$router.push({path:"/searchResult",query:{keyword:this.keyword}}))}}},V=Q,tt=(0,r.Z)(V,G,K,!1,null,null,null),et=tt.exports,it={data(){return{keyword:""}},created(){this.comicSearchHistory=JSON.parse(localStorage.getItem("comicSearchHistory"))||[]},methods:{turnToSearchResult(t){this.keyword=t,this.comicSearchHistory=this.comicSearchHistory.filter((t=>t.keyword!=this.keyword)),this.comicSearchHistory.unshift({keyword:this.keyword}),localStorage.setItem("comicSearchHistory",JSON.stringify(this.comicSearchHistory)),this.$router.push({path:"/searchResult",query:{keyword:this.keyword}})}},components:{SearchCommponents:et}},at=it,st=(0,r.Z)(at,W,B,!1,null,"1f99f178",null),ot=st.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"resultbox"},[e("div",{staticClass:"searchipt"},[e("div",{staticClass:"back",on:{click:t.back}},[t._v("返回")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newkeyword,expression:"newkeyword"}],attrs:{type:"text",placeholder:"搜索漫画名or关键字"},domProps:{value:t.newkeyword},on:{input:function(e){e.target.composing||(t.newkeyword=e.target.value)}}}),e("span",{on:{click:function(e){return t.changeSearchResult(t.newkeyword)}}},[t._v("搜索")])]),e("div",{staticClass:"resultlist"},t._l(t.resultList,(function(i){return e("div",{key:i.comic_id,staticClass:"cartoonbox",on:{click:function(e){return t.turnToComicDetails(i.comic_id,i.comic_name)}}},[e("div",{staticClass:"imgbox"},[e("img",{attrs:{src:"https://image.yqmh.com/mh/"+i.comic_id+".jpg"}})]),e("div",{staticClass:"cartoon-info"},[e("div",{staticClass:"name"},[t._v(t._s(i.comic_name))]),e("div",{staticClass:"author"},[t._v(t._s(i.comic_author))]),e("div",{staticClass:"type"},t._l(i.comic_type.split("|"),(function(a){return e("div",{key:i+a},[t._v(t._s(a.replace(/[^\u4e00-\u9f5a]/g,"")))])})),0),e("div",{staticClass:"chapter"},[t._v(t._s("更新至 "+i.last_chapter_name))])])])})),0)])},nt=[],rt={data(){return{keyword:"",newkeyword:"",resultList:[]}},created(){this.keyword=this.$route.query.keyword,this.comicSearchHistory=JSON.parse(localStorage.getItem("comicSearchHistory"))||[]},computed:{resulturl(){return`https://www.kanman.com/api/getsortlist?search_key=${this.keyword}`}},watch:{resulturl(){this.getcartoonResultList()}},methods:{back(){this.$router.go(-1)},getcartoonResultList(){this.$axios.get(this.resulturl).then((({data:t})=>{console.log(t),this.resultList=t.data}))},changeSearchResult(t){0!=t.length&&(this.comicSearchHistory=this.comicSearchHistory.filter((e=>e.keyword!=t)),this.comicSearchHistory.unshift({keyword:t}),localStorage.setItem("comicSearchHistory",JSON.stringify(this.comicSearchHistory)),this.keyword=t)},turnToComicDetails(t,e){this.$router.push({path:"comicdetails",query:{id:t,name:e}})}}},lt=rt,ht=(0,r.Z)(lt,ct,nt,!1,null,"3aa95e23",null),mt=ht.exports,ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailsbox"},[e("div",{staticClass:"details-top"},[e("div",{staticClass:"detailsmask"},[e("div",{staticClass:"back",on:{click:t.back}},[t._v("返回")]),e("div",{staticClass:"name"},[e("h1",[t._v(t._s(t.comicName))])]),e("div",{staticClass:"type"},t._l(t.comicInfo.cartoon_type_list,(function(i){return e("div",{key:i.id},[t._v(t._s(i.name))])})),0)]),e("img",{staticClass:"topimg",attrs:{src:"http://image.mhxk.com/mh/"+this.comicId+"_2_1.jpg-noresize.webp"}})]),e("div",{staticClass:"desc"},[e("div",[t._v("简介：")]),e("div",[t._v(t._s(t.comicInfo.comic_desc))])]),e("div",{staticClass:"chapterbox"},[e("div",{staticClass:"chapterhead"},[e("div",[t._v("全部章节")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.orderShow,expression:"orderShow"}],staticClass:"fr btn",on:{click:t.onOrder}},[t._v("正序")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.orderShow,expression:"!orderShow"}],staticClass:"fr btn",on:{click:t.onOrder}},[t._v("倒序")])]),t._l(t.chapterlist,(function(i){return e("div",{key:i.chapter_id,on:{click:function(e){return t.turnToComic(i.chapter_newid)}}},[t._v(t._s(i.chapter_name)+" ")])}))],2),e("div",{staticClass:"footer"},[t.ishas?e("div",{on:{click:t.delShelf}},[t._v("移出书架")]):e("div",{on:{click:t.addShelf}},[t._v("加入书架")]),e("div",[t._v("开始阅读")])])])},dt=[],vt={data(){return{comicId:"",comicName:"",comicInfo:"",chapterlist:"",chapterinfo:"",chapterId:"",mineComic:[],orderShow:!0}},created(){this.comicId=this.$route.query.id,this.comicName=this.$route.query.name,this.mineComic=JSON.parse(localStorage.getItem("mineComic"))||[],console.log(this.$route.query.id)},computed:{ishas(){let t=!1;return this.mineComic.forEach((e=>{e.comic_id==this.comicId&&(t=!0)})),t},infoURL(){return`https://www.kanman.com/api/getComicInfoAttribute?comic_id=${this.comicId}`},chapterlistURL(){return`https://www.kanman.com/api/getchapterlist?comic_id=${this.comicId}`}},watch:{infoURL(){this.$axios.get(this.infoURL).then((({data:t})=>{console.log(t),this.comicInfo=t.data}))},chapterlistURL(){this.$axios.get(this.chapterlistURL).then((({data:t})=>{console.log(t),this.chapterlist=t.data}))}},methods:{back(){this.$router.go(-1)},turnToComic(t){this.$router.push({path:"/comic",query:{comicId:this.comicId,chapterId:t}})},addShelf(){this.mineComic.unshift({comic_id:this.comicId,comic_name:this.comicName}),localStorage.setItem("mineComic",JSON.stringify(this.mineComic))},delShelf(){this.mineComic=this.mineComic.filter((t=>t.comic_id!=this.comicId)),localStorage.setItem("mineComic",JSON.stringify(this.mineComic))},onOrder(){this.orderShow=!this.orderShow,this.chapterlist=this.chapterlist.reverse()}}},pt=vt,ft=(0,r.Z)(pt,ut,dt,!1,null,"ecd22866",null),gt=ft.exports,_t=function(){var t=this,e=t._self._c;return e("div",{ref:"box",staticClass:"comicbox",on:{click:function(e){t.controlshow=!t.controlshow},touchstart:t.touchstart,touchmove:t.touchmove}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.controlshow,expression:"controlshow"}],staticClass:"controlbox"},[e("div",{staticClass:"controltop"},[e("span",{staticClass:"back",on:{click:t.back}},[t._v("返回")])]),e("div",{staticClass:"controlbtm"},[e("div",{on:{click:t.turnToPrev}},[t._v("上一章")]),e("div",{on:{click:t.turnToNext}},[t._v("下一章")])])]),t._l(t.chapterimg,(function(t){return e("div",{key:t},[e("img",{attrs:{src:t,alt:""}})])})),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isbottom,expression:"isbottom"}],staticClass:"turntobtn turntonext",on:{click:function(e){return e.stopPropagation(),t.turnToNext.apply(null,arguments)}}},[e("div",[t._v("下")]),e("div",[t._v("一")]),e("div",[t._v("章")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.istop,expression:"istop"}],staticClass:"turntobtn turntoprev",on:{click:function(e){return e.stopPropagation(),t.turnToPrev.apply(null,arguments)}}},[e("div",[t._v("上")]),e("div",[t._v("一")]),e("div",[t._v("章")])]),e("transition",{on:{"before-enter":t.beforeEnterTips,enter:t.enterTips,"after-enter":t.afterEnterTips}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tipsshow,expression:"tipsshow"}],staticClass:"tips",on:{click:function(e){return e.target!==e.currentTarget?null:t.tipsshow()}}},[t._v(" 已经没有内容了哦~ ")])])],2)},yt=[],wt={data(){return{comicId:"",chapterId:"",chapterinfo:[],chapterimg:[],controlshow:!1,istop:!1,isbottom:!1,isclienttop:!1,isclientbottom:!1,tipsshow:!1}},created(){this.comicId=this.$route.query.comicId,this.chapterId=this.$route.query.chapterId},computed:{chapterinfoURL(){return`https://www.kanman.com/api/getchapterinfov2?comic_id=${this.comicId}&chapter_newid=${this.chapterId}&quality=middle`}},watch:{chapterinfoURL(){this.$axios.get(this.chapterinfoURL).then((({data:t})=>{console.log(t),this.chapterinfo=t.data,this.chapterimg=this.chapterinfo.current_chapter.chapter_img_list,console.log(this.chapterinfo)}))}},methods:{back(){this.$router.go(-1)},turnToNext(){console.log(this.chapterinfo.next_chapter),null!=this.chapterinfo.next_chapter?(this.chapterId=this.chapterinfo.next_chapter.chapter_newid,this.isbottom=!1):(this.isbottom=!1,this.tipsshow=!0)},turnToPrev(){console.log(this.chapterinfo.prev_chapter),null!=this.chapterinfo.prev_chapter?(this.chapterId=this.chapterinfo.prev_chapter.chapter_newid,this.istop=!1):(this.istop=!1,this.tipsshow=!0)},touchstart(t){this.startX=t.changedTouches[0].pageX,this.startY=t.changedTouches[0].pageY;let e=this.$refs.box.scrollTop,i=this.$refs.box.scrollHeight,a=this.$refs.box.clientHeight;this.isclienttop=0==e,this.isclientbottom=e+a+1>=i},touchmove(t){var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,a=e-this.startX,s=i-this.startY;Math.abs(s)>Math.abs(a)&&(1==this.isclienttop?s>0&&(this.istop=!0):this.istop=!1,1==this.isclientbottom?s<0&&(this.isbottom=!0):this.isbottom=!1)},beforeEnterTips(t){console.log("动画开始了",t),t.style.opacity="0"},enterTips(t,e){t.offsetHeight;let i=0;t.ontransitionend=function(){i++,1==i?(t.style.transition="all 1s linear",t.style.opacity="0"):e()},t.style.transition="all .7s linear",t.style.opacity="1"},afterEnterTips(t){console.log("动画结束中",t),t.style.transition="all 0s linear",this.tipsshow=!1,t.ontransitionend=null}}},Ct=wt,kt=(0,r.Z)(Ct,_t,yt,!1,null,"f2de43e6",null),xt=kt.exports;a.ZP.use(m.ZP);const bt=[{path:"/shelf",name:"shelf",component:x},{path:"/city",name:"city",component:T},{path:"/rank",name:"rank",component:U},{path:"/update",name:"update",component:j},{path:"/allbooks",name:"allbooks",component:Y},{path:"/search",name:"search",component:ot},{path:"/searchResult",name:"searchResult",component:mt},{path:"/comicdetails",name:"comicdetails",component:gt},{path:"/comic",name:"comic",component:xt}],St=new m.ZP({mode:"history",base:"/",routes:bt});var It=St,$t=i(3012);a.ZP.use($t.Z,{reqHandleFunc:t=>t,reqErrorFunc:t=>Promise.reject(t),resHandleFunc:t=>t,resErrorFunc:t=>Promise.reject(t)}),a.ZP.config.productionTip=!1,new a.ZP({router:It,render:t=>t(h)}).$mount("#app")}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,a,s,o){if(!a){var c=1/0;for(h=0;h<t.length;h++){a=t[h][0],s=t[h][1],o=t[h][2];for(var n=!0,r=0;r<a.length;r++)(!1&o||c>=o)&&Object.keys(i.O).every((function(t){return i.O[t](a[r])}))?a.splice(r--,1):(n=!1,o<c&&(c=o));if(n){t.splice(h--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[a,s,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,c=a[0],n=a[1],r=a[2],l=0;if(c.some((function(e){return 0!==t[e]}))){for(s in n)i.o(n,s)&&(i.m[s]=n[s]);if(r)var h=r(i)}for(e&&e(a);l<c.length;l++)o=c[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(h)},a=self["webpackChunkdemo2"]=self["webpackChunkdemo2"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(4021)}));a=i.O(a)})();
//# sourceMappingURL=app.eddfbab4.js.map